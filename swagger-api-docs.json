{"openapi":"3.0.0","paths":{"/v1":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/healthy":{"get":{"operationId":"AppController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["App"]}},"/v1/system-info":{"get":{"operationId":"AppController_getSystemInfo","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/redis-info":{"get":{"operationId":"AppController_getRedisInfo","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/apikey-protected-set":{"get":{"operationId":"AppController_apiKeySet","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/apikey-protected":{"get":{"operationId":"AppController_apiKey","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/sign-protected-set":{"get":{"operationId":"AppController_signProtectedSet","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/sign-protected":{"get":{"operationId":"AppController_apiKeyAndSecret","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/v1/auth/login":{"post":{"description":"Authenticates a user by verifying provided password credentials and issues a JSON Web Token (JWT) upon successful authentication.","operationId":"AuthenticationController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordLoginDto"}}}},"responses":{"201":{"description":""}},"summary":"Password-based User Authentication","tags":["Authentication - Module"]}},"/v1/auth/refreshToken":{"post":{"operationId":"AuthenticationController_refreshToken","parameters":[],"responses":{"201":{"description":""}},"tags":["Authentication - Module"]}},"/v1/auth/register":{"post":{"description":"Register a new user account with email and password. Username and nickname are optional and will be auto-generated if not provided.","operationId":"AuthenticationController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":""}},"summary":"User Registration","tags":["Authentication - Module"]}},"/v1/auth/getUserInfo":{"get":{"operationId":"AuthenticationController_getProfile","parameters":[],"responses":{"200":{"description":""}},"tags":["Authentication - Module"]}},"/v1/auth/confirm-email":{"patch":{"description":"Verify user email with OTP code. Upon successful verification, user is automatically logged in and receives access tokens.","operationId":"AuthenticationController_confirmEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmEmailDto"}}}},"responses":{"200":{"description":""}},"summary":"Email Verification","tags":["Authentication - Module"]}},"/v1/auth/resend-confirmation-email":{"post":{"description":"Resend email verification code to user. A new OTP code will be generated and sent to the user email.","operationId":"AuthenticationController_resendConfirmationEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResendConfirmationEmailDto"}}}},"responses":{"201":{"description":""}},"summary":"Resend Confirmation Email","tags":["Authentication - Module"]}},"/v1/auth/sign-out":{"post":{"description":"Invalidates the refresh token and clears user role cache. After signing out, the refresh token can no longer be used to refresh access tokens.","operationId":"AuthenticationController_signOut","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignOutDto"}}}},"responses":{"201":{"description":""}},"summary":"User Sign Out","tags":["Authentication - Module"]}},"/v1/authorization/assign-permission":{"post":{"description":"Assigns a set of permissions to a specified role within a domain.","operationId":"AuthorizationController_assignPermission","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignPermissionDto"}}}},"responses":{"201":{"description":""}},"summary":"Assign Permissions to Role","tags":["Authorization - Module"]}},"/v1/authorization/assign-routes":{"post":{"description":"Assigns a set of routes to a specified role within a domain.","operationId":"AuthorizationController_assignRoutes","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignRouteDto"}}}},"responses":{"201":{"description":""}},"summary":"Assign Routes to Role","tags":["Authorization - Module"]}},"/v1/authorization/assign-users":{"post":{"description":"Assigns a set of users to a specified role","operationId":"AuthorizationController_assignUsers","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignUserDto"}}}},"responses":{"201":{"description":""}},"summary":"Assign Users to Role","tags":["Authorization - Module"]}},"/v1/authorization/getUserRoutes":{"get":{"description":"Retrieve user-specific routes based on their roles and domain.","operationId":"AuthorizationController_getUserRoutes","parameters":[],"responses":{"200":{"description":""}},"summary":"Get user routes","tags":["Authorization - Module"]}},"/v1/domain":{"get":{"operationId":"DomainController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["ENABLED","DISABLED"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.953Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/DomainReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Casbin Domains","tags":["Casbin Domain - Module"]},"post":{"operationId":"DomainController_createDomain","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DomainCreateDto"}}}},"responses":{"201":{"description":"The domain has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New Domain","tags":["Casbin Domain - Module"]},"put":{"operationId":"DomainController_updateDomain","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DomainUpdateDto"}}}},"responses":{"201":{"description":"The domain has been successfully updated."},"403":{"description":"Forbidden."}},"summary":"Update a Domain","tags":["Casbin Domain - Module"]}},"/v1/domain/{id}":{"delete":{"operationId":"DomainController_deleteDomain","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"The domain has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a Domain","tags":["Casbin Domain - Module"]}},"/v1/route/getConstantRoutes":{"get":{"description":"Retrieve all constant routes available in the system.","operationId":"MenuController_getConstantRoutes","parameters":[],"responses":{"200":{"description":""}},"summary":"Get constant routes","tags":["Menu - Module"]}},"/v1/route":{"get":{"operationId":"MenuController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"menuName","required":false,"in":"query","schema":{"type":"string"}},{"name":"routeName","required":false,"in":"query","schema":{"type":"string"}},{"name":"menuType","required":false,"in":"query","schema":{"example":"MENU","type":"string","enum":["MENU","DIRECTORY","BUTTON"]}},{"name":"status","required":false,"in":"query","schema":{"example":"ENABLED","type":"string","enum":["ENABLED","DISABLED"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.977Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/MenuReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Menus","tags":["Menu - Module"]},"post":{"operationId":"MenuController_createRoute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteCreateDto"}}}},"responses":{"201":{"description":"The route has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New Route","tags":["Menu - Module"]},"put":{"operationId":"MenuController_updateRoute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteUpdateDto"}}}},"responses":{"201":{"description":"The route has been successfully updated."},"403":{"description":"Forbidden."}},"summary":"Update a Route","tags":["Menu - Module"]}},"/v1/route/all":{"get":{"operationId":"MenuController_routes","parameters":[],"responses":{"200":{"description":""}},"summary":"Get All Routes","tags":["Menu - Module"]}},"/v1/route/tree":{"get":{"operationId":"MenuController_treeRoute","parameters":[],"responses":{"200":{"description":""}},"summary":"Routes","tags":["Menu - Module"]}},"/v1/route/{id}":{"delete":{"operationId":"MenuController_deleteRoute","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"The route has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a Route","tags":["Menu - Module"]}},"/v1/route/auth-route/{roleId}":{"get":{"operationId":"MenuController_authRoute","parameters":[{"name":"roleId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Authorized Routes","tags":["Menu - Module"]}},"/v1/role":{"get":{"operationId":"RoleController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"code","required":false,"in":"query","schema":{"type":"string"}},{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["ENABLED","DISABLED"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.988Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/RoleReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Roles","tags":["Role - Module"]},"post":{"operationId":"RoleController_createRole","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreateDto"}}}},"responses":{"201":{"description":"The role has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New Role","tags":["Role - Module"]},"put":{"operationId":"RoleController_updateRole","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdateDto"}}}},"responses":{"201":{"description":"The role has been successfully updated."},"403":{"description":"Forbidden."}},"summary":"Update a Role","tags":["Role - Module"]}},"/v1/role/{id}":{"delete":{"operationId":"RoleController_deleteRole","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"The role has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a Role","tags":["Role - Module"]}},"/v1/user":{"get":{"operationId":"UserController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"username","required":false,"in":"query","schema":{"type":"string"}},{"name":"nickName","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["ENABLED","DISABLED"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:10.017Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/UserReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Users","tags":["User - Module"]},"post":{"operationId":"UserController_createUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateDto"}}}},"responses":{"201":{"description":"The user has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New User","tags":["User - Module"]},"put":{"operationId":"UserController_updateUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateDto"}}}},"responses":{"201":{"description":"The user has been successfully updated."},"403":{"description":"Forbidden."}},"summary":"Update a User","tags":["User - Module"]}},"/v1/user/{id}":{"delete":{"operationId":"UserController_deleteUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"The user has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a User","tags":["User - Module"]}},"/v1/api-endpoint":{"get":{"operationId":"EndpointController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"path","required":false,"in":"query","schema":{"type":"string"}},{"name":"method","required":false,"in":"query","schema":{"type":"string"}},{"name":"action","required":false,"in":"query","schema":{"type":"string"}},{"name":"resource","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.901Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/EndpointReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Api Endpoints","tags":["API Endpoint - Module"]}},"/v1/api-endpoint/tree":{"get":{"operationId":"EndpointController_treeEndpoint","parameters":[],"responses":{"200":{"description":""}},"summary":"Endpoints","tags":["API Endpoint - Module"]}},"/v1/api-endpoint/auth-api-endpoint/{roleCode}":{"get":{"operationId":"EndpointController_authApiEndpoint","parameters":[{"name":"roleCode","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Authorized API-Endpoints","tags":["API Endpoint - Module"]}},"/v1/login-log":{"get":{"operationId":"LoginLogController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"username","required":false,"in":"query","schema":{"type":"string"}},{"name":"domain","required":false,"in":"query","schema":{"type":"string"}},{"name":"address","required":false,"in":"query","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:10.026Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/LoginLogReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Login Logs","tags":["Login Log - Module"]}},"/v1/operation-log":{"get":{"operationId":"OperationLogController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"username","required":false,"in":"query","schema":{"type":"string"}},{"name":"domain","required":false,"in":"query","schema":{"type":"string"}},{"name":"moduleName","required":false,"in":"query","schema":{"type":"string"}},{"name":"method","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:10.044Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/OperationLogReadModel"}}}}}}}}}},"summary":"Retrieve Paginated Operation Logs","tags":["Operation Log - Module"]}},"/v1/access-key":{"get":{"operationId":"AccessKeyController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"domain","required":false,"in":"query","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["ENABLED","DISABLED"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.840Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/AccessKeyReadModel"}}}}}}}}}},"summary":"Retrieve Paginated AccessKeys","tags":["AccessKey - Module"]},"post":{"operationId":"AccessKeyController_createAccessKey","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessKeyCreateDto"}}}},"responses":{"201":{"description":"The accessKey has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New AccessKey","tags":["AccessKey - Module"]}},"/v1/access-key/{id}":{"delete":{"operationId":"AccessKeyController_deleteAccessKey","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"The accessKey has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a AccessKey","tags":["AccessKey - Module"]}},"/v1/casbin/policies":{"get":{"operationId":"CasbinPolicyController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"ptype","required":false,"in":"query","schema":{"example":"p","type":"string","enum":["p","g"]}},{"name":"subject","required":false,"in":"query","schema":{"type":"string"}},{"name":"object","required":false,"in":"query","schema":{"type":"string"}},{"name":"action","required":false,"in":"query","schema":{"type":"string"}},{"name":"domain","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.864Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/PolicyRuleDto"}}}}}}}}}},"summary":"Retrieve Paginated Policies","tags":["Casbin - Policy"]},"post":{"operationId":"CasbinPolicyController_createPolicy","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PolicyRuleCreateDto"}}}},"responses":{"201":{"description":"The policy has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New Policy","tags":["Casbin - Policy"]}},"/v1/casbin/policies/{id}":{"delete":{"operationId":"CasbinPolicyController_deletePolicy","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"The policy has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a Policy","tags":["Casbin - Policy"]}},"/v1/casbin/policies/batch":{"post":{"operationId":"CasbinPolicyController_batchOperations","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PolicyBatchDto"}}}},"responses":{"201":{"description":"The batch operation has been successfully completed."},"403":{"description":"Forbidden."}},"summary":"Batch Operations on Policies","tags":["Casbin - Policy"]}},"/v1/casbin/relations":{"get":{"operationId":"CasbinRelationController_page","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"childSubject","required":false,"in":"query","schema":{"type":"string"}},{"name":"parentRole","required":false,"in":"query","schema":{"type":"string"}},{"name":"domain","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.869Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/RoleRelationDto"}}}}}}}}}},"summary":"Retrieve Paginated Role Relations","tags":["Casbin - Relation"]},"post":{"operationId":"CasbinRelationController_createRelation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleRelationCreateDto"}}}},"responses":{"201":{"description":"The role relation has been successfully created."},"403":{"description":"Forbidden."}},"summary":"Create a New Role Relation","tags":["Casbin - Relation"]}},"/v1/casbin/relations/{id}":{"delete":{"operationId":"CasbinRelationController_deleteRelation","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"The role relation has been successfully deleted."},"403":{"description":"Forbidden."}},"summary":"Delete a Role Relation","tags":["Casbin - Relation"]}},"/v1/casbin/model/versions":{"get":{"operationId":"CasbinModelController_pageVersions","parameters":[{"name":"current","required":true,"in":"query","description":"Current page number of the pagination","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"size","required":true,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"example":"draft","type":"string","enum":["draft","active","archived"]}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.884Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"type":"object","properties":{"current":{"type":"integer","example":1},"size":{"type":"integer","example":10},"total":{"type":"integer","example":100},"records":{"type":"array","items":{"$ref":"#/components/schemas/CasbinModelConfigDto"}}}}}}}}}},"summary":"Retrieve Paginated Model Versions","tags":["Casbin - Model"]}},"/v1/casbin/model/active":{"get":{"operationId":"CasbinModelController_getActive","parameters":[],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.894Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"$ref":"#/components/schemas/CasbinModelConfigDto"}}}}}}},"summary":"Get Active Model Config","tags":["Casbin - Model"]}},"/v1/casbin/model/versions/{id}":{"get":{"operationId":"CasbinModelController_getVersionDetail","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.895Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"$ref":"#/components/schemas/CasbinModelConfigDto"}}}}}}},"summary":"Get Model Version Detail","tags":["Casbin - Model"]}},"/v1/casbin/model/versions/{sourceId}/diff/{targetId}":{"get":{"operationId":"CasbinModelController_getVersionDiff","parameters":[{"name":"sourceId","required":true,"in":"path","schema":{"type":"number"}},{"name":"targetId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Auto-generated response schema","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","example":200,"description":"Status code of the response"},"message":{"type":"string","example":"success","description":"Description of the response"},"timestamp":{"type":"string","format":"date-time","example":"2025-12-02T11:25:09.895Z","description":"Timestamp of the response"},"requestId":{"type":"string","example":"req1","description":"Request ID from the header"},"path":{"type":"string","example":"/api/path","description":"Request path"},"data":{"$ref":"#/components/schemas/ModelVersionDiffDto"}}}}}}},"summary":"Get Model Version Diff","tags":["Casbin - Model"]}},"/v1/casbin/model/drafts":{"post":{"operationId":"CasbinModelController_createDraft","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelDraftCreateDto"}}}},"responses":{"201":{"description":"The model draft has been successfully created."}},"summary":"Create Model Draft","tags":["Casbin - Model"]}},"/v1/casbin/model/drafts/{id}":{"put":{"operationId":"CasbinModelController_updateDraft","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelDraftUpdateDto"}}}},"responses":{"201":{"description":"The model draft has been successfully updated."}},"summary":"Update Model Draft","tags":["Casbin - Model"]}},"/v1/casbin/model/versions/{id}/publish":{"post":{"operationId":"CasbinModelController_publishVersion","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"The model version has been successfully published."}},"summary":"Publish Model Version","tags":["Casbin - Model"]}},"/v1/casbin/model/versions/{id}/rollback":{"post":{"operationId":"CasbinModelController_rollbackVersion","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"The model has been successfully rolled back."}},"summary":"Rollback Model Version","tags":["Casbin - Model"]}}},"info":{"title":"Soybean Admin NestJS Backend API","description":"This API serves as the backend service for Soybean Admin, providing a comprehensive set of functionalities for system management and operations.","version":"1.0.0","contact":{"name":"HL8","url":"https://hl8.com","email":"hl8@hl8.com"},"termsOfService":"Soybean Terms of Service","license":{"name":"MIT","url":"https://github.com/soybeanjs/soybean-admin-nestjs/blob/main/LICENSE"}},"tags":[],"servers":[],"components":{"securitySchemes":{"":{"description":"Bearer Authentication","type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"PasswordLoginDto":{"type":"object","properties":{"identifier":{"type":"string","description":"账户/邮箱/手机号"},"password":{"type":"string","description":"密码","example":"123456"}},"required":["identifier","password"]},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","description":"用户邮箱地址","example":"user@example.com"},"password":{"type":"string","description":"用户密码","example":"password123","minLength":6},"username":{"type":"string","description":"用户名（可选，默认使用邮箱前缀）","example":"username"},"nickName":{"type":"string","description":"用户昵称（可选，默认使用邮箱前缀）","example":"用户昵称"}},"required":["email","password"]},"ConfirmEmailDto":{"type":"object","properties":{"email":{"type":"string","description":"用户邮箱地址","example":"user@example.com"},"token":{"type":"string","description":"6 位数字 OTP 验证码","example":"123456","minLength":6,"maxLength":6}},"required":["email","token"]},"ResendConfirmationEmailDto":{"type":"object","properties":{"email":{"type":"string","description":"用户邮箱地址","example":"user@example.com"}},"required":["email"]},"SignOutDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"刷新令牌","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["refreshToken"]},"AssignPermissionDto":{"type":"object","properties":{"domain":{"type":"string"},"roleId":{"type":"string"},"permissions":{"description":"A list of permission IDs that will be assigned to the role.","type":"array","items":{"type":"string"}}},"required":["domain","roleId","permissions"]},"AssignRouteDto":{"type":"object","properties":{"domain":{"type":"string"},"roleId":{"type":"string"},"routeIds":{"description":"A list of route IDs that will be assigned to the role.","type":"array","items":{"type":"number"}}},"required":["domain","roleId","routeIds"]},"AssignUserDto":{"type":"object","properties":{"roleId":{"type":"string"},"userIds":{"description":"A list of user IDs that will be assigned to the role.","type":"array","items":{"type":"string"}}},"required":["roleId","userIds"]},"DomainReadModel":{"type":"object","properties":{"updatedAt":{"type":"object","description":"更新时间","nullable":true},"updatedBy":{"type":"object","description":"更新者","nullable":true},"id":{"type":"string","description":"The unique identifier of the casbin domain"},"code":{"type":"string","description":"Code of the casbin domain"},"name":{"type":"string","description":"Name of the casbin domain"},"description":{"type":"object","description":"Description of the casbin domain","nullable":true},"status":{"type":"string","description":"Current status of the casbin domain","enum":["ENABLED","DISABLED"]}},"required":["updatedAt","updatedBy","id","code","name","description","status"]},"DomainCreateDto":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true}},"required":["code","name"]},"DomainUpdateDto":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"id":{"type":"string"}},"required":["code","name","id"]},"MenuReadModel":{"type":"object","properties":{"updatedAt":{"type":"object","description":"更新时间","nullable":true},"updatedBy":{"type":"object","description":"更新者","nullable":true},"id":{"type":"number","description":"The unique identifier of the menu","example":1},"menuType":{"type":"string","description":"Type of the menu","enum":["MENU","DIRECTORY","BUTTON"],"example":"MENU"},"menuName":{"type":"string","description":"Name of the menu","example":"Settings"},"routeName":{"type":"string","description":"Unique route name of the menu","example":"settings"},"routePath":{"type":"string","description":"Path for the menu route","example":"/settings"},"component":{"type":"string","description":"Component associated with the menu","example":"SettingsComponent"},"status":{"type":"string","description":"Status of the menu","enum":["ENABLED","DISABLED"],"example":"ENABLED"},"pid":{"type":"number","description":"Parent ID of the menu","example":"0"},"order":{"type":"number","description":"Order of the menu in the list","example":1},"iconType":{"type":"object","description":"Icon type ID of the menu","example":1,"nullable":true},"icon":{"type":"object","description":"Icon of the menu","example":"fa fa-settings","nullable":true},"pathParam":{"type":"object","description":"Additional parameters for the menu route","example":"userId=123","nullable":true},"activeMenu":{"type":"object","description":"Indicates if the menu is currently active","example":"true","nullable":true},"hideInMenu":{"type":"object","description":"If the menu should be hidden","example":"false","nullable":true},"i18nKey":{"type":"object","description":"Internationalization key for the menu","example":"menu.settings","nullable":true},"keepAlive":{"type":"object","description":"Indicates if the menu should be kept alive","example":"true","nullable":true},"constant":{"type":"boolean","description":"Indicates if the menu is a constant feature","example":"false"},"href":{"type":"object","description":"Hyperlink reference for the menu, if applicable","example":"https://nestjs.com/","nullable":true},"multiTab":{"type":"object","description":"Indicates if opening the menu will open a new tab","example":"false","nullable":true}},"required":["updatedAt","updatedBy","id","menuType","menuName","routeName","routePath","component","status","pid","order"]},"RouteCreateDto":{"type":"object","properties":{"menuName":{"type":"string"},"menuType":{"type":"string","enum":["MENU","DIRECTORY","BUTTON"]},"iconType":{"type":"number","nullable":true},"icon":{"type":"string","nullable":true},"routeName":{"type":"string"},"routePath":{"type":"string"},"component":{"type":"string"},"pathParam":{"type":"string","nullable":true},"status":{"type":"string","enum":["ENABLED","DISABLED"]},"activeMenu":{"type":"string","nullable":true},"hideInMenu":{"type":"boolean","nullable":true},"pid":{"type":"number"},"order":{"type":"number"},"i18nKey":{"type":"string","nullable":true},"keepAlive":{"type":"boolean","nullable":true},"constant":{"type":"boolean"},"href":{"type":"string","nullable":true},"multiTab":{"type":"boolean","nullable":true}},"required":["menuName","menuType","routeName","routePath","component","status","pid","order","constant"]},"RouteUpdateDto":{"type":"object","properties":{"menuName":{"type":"string"},"menuType":{"type":"string","enum":["MENU","DIRECTORY","BUTTON"]},"iconType":{"type":"number","nullable":true},"icon":{"type":"string","nullable":true},"routeName":{"type":"string"},"routePath":{"type":"string"},"component":{"type":"string"},"pathParam":{"type":"string","nullable":true},"status":{"type":"string","enum":["ENABLED","DISABLED"]},"activeMenu":{"type":"string","nullable":true},"hideInMenu":{"type":"boolean","nullable":true},"pid":{"type":"number"},"order":{"type":"number"},"i18nKey":{"type":"string","nullable":true},"keepAlive":{"type":"boolean","nullable":true},"constant":{"type":"boolean"},"href":{"type":"string","nullable":true},"multiTab":{"type":"boolean","nullable":true},"id":{"type":"number"}},"required":["menuName","menuType","routeName","routePath","component","status","pid","order","constant","id"]},"RoleReadModel":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the role"},"code":{"type":"string","description":"Code of the role"},"name":{"type":"string","description":"Name of the role"},"pid":{"type":"string","description":"Parent ID of the role"},"status":{"type":"string","description":"Status of the role","enum":["ENABLED","DISABLED"]},"description":{"type":"object","description":"Description of the role","nullable":true}},"required":["id","code","name","pid","status"]},"RoleCreateDto":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"pid":{"type":"string"},"status":{"type":"string","enum":["ENABLED","DISABLED"]},"description":{"type":"string","nullable":true}},"required":["code","name","pid"]},"RoleUpdateDto":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"pid":{"type":"string"},"status":{"type":"string","enum":["ENABLED","DISABLED"]},"description":{"type":"string","nullable":true},"id":{"type":"string"}},"required":["code","name","pid","id"]},"UserReadModel":{"type":"object","properties":{"updatedAt":{"type":"object","description":"更新时间","nullable":true},"updatedBy":{"type":"object","description":"更新者","nullable":true},"id":{"type":"string","description":"The unique identifier of the user"},"username":{"type":"string","description":"Username of the user"},"domain":{"type":"string","description":"Domain associated with the user"},"nickName":{"type":"string","description":"Nickname of the user"},"status":{"type":"string","description":"Current status of the user","enum":["ENABLED","DISABLED"]},"avatar":{"type":"object","description":"Avatar URL of the user","nullable":true},"email":{"type":"object","description":"Email address of the user","nullable":true},"phoneNumber":{"type":"object","description":"Phone number of the user","nullable":true},"isEmailVerified":{"type":"boolean","description":"Whether the user email has been verified","default":false}},"required":["updatedAt","updatedBy","id","username","domain","nickName","status","avatar","email","phoneNumber","isEmailVerified"]},"UserCreateDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"domain":{"type":"string"},"nickName":{"type":"string"},"avatar":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"phoneNumber":{"type":"string","nullable":true}},"required":["username","password","domain","nickName"]},"UserUpdateDto":{"type":"object","properties":{"username":{"type":"string"},"nickName":{"type":"string"},"avatar":{"type":"string","nullable":true},"email":{"type":"string","nullable":true},"phoneNumber":{"type":"string","nullable":true},"id":{"type":"string"}},"required":["username","nickName","id"]},"EndpointReadModel":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the API endpoint"},"path":{"type":"string","description":"Path of the API endpoint"},"method":{"type":"string","description":"HTTP method of the API endpoint"},"action":{"type":"string","description":"Action associated with the API endpoint"},"resource":{"type":"string","description":"Resource targeted by the API endpoint"},"controller":{"type":"string","description":"Controller handling the API endpoint"},"summary":{"type":"object","description":"Summary or description of the API endpoint","nullable":true},"createdAt":{"type":"string","description":"Creation date of the API endpoint","format":"date-time"},"updatedAt":{"type":"string","description":"Last update date of the API endpoint","format":"date-time","nullable":true}},"required":["id","path","method","action","resource","controller","summary","createdAt","updatedAt"]},"LoginLogReadModel":{"type":"object","properties":{"username":{"type":"string","description":"Username associated with the login event"},"domain":{"type":"string","description":"Domain where the login occurred"},"loginTime":{"type":"string","description":"Time when the login occurred","format":"date-time"},"ip":{"type":"string","description":"IP address from which the login was attempted"},"port":{"type":"object","description":"Port number used for the login attempt","nullable":true},"address":{"type":"string","description":"Physical or virtual address where the login occurred"},"userAgent":{"type":"string","description":"User agent of the device used for logging in"},"requestId":{"type":"string","description":"Request ID associated with the login event"},"type":{"type":"string","description":"Type of login event (e.g., success, failure)"},"createdAt":{"type":"string","description":"Date and time when the log was created","format":"date-time"}},"required":["username","domain","loginTime","ip","port","address","userAgent","requestId","type","createdAt"]},"OperationLogReadModel":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the operation log"},"userId":{"type":"string","description":"User ID associated with the operation"},"username":{"type":"string","description":"Username associated with the operation"},"domain":{"type":"string","description":"Domain where the operation occurred"},"moduleName":{"type":"string","description":"Module where the operation occurred"},"description":{"type":"string","description":"Description of the operation"},"requestId":{"type":"string","description":"Request ID associated with the operation"},"method":{"type":"string","description":"HTTP method used in the operation"},"url":{"type":"string","description":"URL accessed during the operation"},"ip":{"type":"string","description":"IP address from which the operation was initiated"},"userAgent":{"type":"object","description":"User agent of the device used in the operation","nullable":true},"params":{"type":"object","description":"Parameters used in the operation"},"body":{"type":"object","description":"Body of the request used in the operation"},"response":{"type":"object","description":"Response returned from the operation"},"startTime":{"type":"string","description":"Start time of the operation","format":"date-time"},"endTime":{"type":"string","description":"End time of the operation","format":"date-time"},"duration":{"type":"number","description":"Duration of the operation in milliseconds"}},"required":["id","userId","username","domain","moduleName","description","requestId","method","url","ip","userAgent","params","body","response","startTime","endTime","duration"]},"AccessKeyReadModel":{"type":"object","properties":{"id":{"type":"string","description":"The unique identifier of the AccessKey"},"domain":{"type":"string","description":"domain of the AccessKey"},"AccessKeyID":{"type":"string","description":"AccessKeyID of the AccessKey"},"status":{"type":"string","description":"Status of the AccessKey","enum":["ENABLED","DISABLED"]},"description":{"type":"object","description":"Description of the AccessKey","nullable":true}},"required":["id","domain","AccessKeyID","status"]},"AccessKeyCreateDto":{"type":"object","properties":{"domain":{"type":"string","nullable":true},"status":{"type":"string","enum":["ENABLED","DISABLED"]},"description":{"type":"string","nullable":true}}},"PolicyRuleDto":{"type":"object","properties":{"id":{"type":"number","description":"策略规则 ID","example":1},"ptype":{"type":"string","description":"策略类型","enum":["p","g"],"example":"p"},"subject":{"type":"string","description":"主体（Subject），通常是角色编码或用户标识","example":"admin","nullable":true},"object":{"type":"string","description":"资源（Object），通常是接口路径或资源编码","example":"/api/users","nullable":true},"action":{"type":"string","description":"操作（Action），通常是 HTTP 方法或动作枚举","example":"GET","nullable":true},"domain":{"type":"string","description":"域（Domain），用于多租户隔离","example":"example.com","nullable":true},"effect":{"type":"string","description":"效果（Effect），allow 或 deny","example":"allow","nullable":true},"v4":{"type":"string","description":"扩展字段 v4","nullable":true},"v5":{"type":"string","description":"扩展字段 v5","nullable":true}},"required":["id","ptype"]},"PolicyRuleCreateDto":{"type":"object","properties":{"ptype":{"type":"string","description":"策略类型","enum":["p","g"],"example":"p"},"subject":{"type":"string","description":"主体（Subject），通常是角色编码或用户标识","example":"admin"},"object":{"type":"string","description":"资源（Object），通常是接口路径或资源编码","example":"/api/users"},"action":{"type":"string","description":"操作（Action），通常是 HTTP 方法或动作枚举","example":"GET"},"domain":{"type":"string","description":"域（Domain），用于多租户隔离","example":"example.com"},"effect":{"type":"string","description":"效果（Effect），allow 或 deny","example":"allow"},"v4":{"type":"string","description":"扩展字段 v4"},"v5":{"type":"string","description":"扩展字段 v5"}},"required":["ptype"]},"PolicyBatchDto":{"type":"object","properties":{"policies":{"description":"策略规则数组","type":"array","items":{"$ref":"#/components/schemas/PolicyRuleCreateDto"}},"operation":{"type":"string","description":"操作类型：add 表示批量新增，delete 表示批量删除","enum":["add","delete"],"example":"add"}},"required":["policies","operation"]},"RoleRelationDto":{"type":"object","properties":{"id":{"type":"number","description":"关系 ID","example":1},"childSubject":{"type":"string","description":"子主体（用户 ID 或子角色编码）","example":"user-123"},"parentRole":{"type":"string","description":"父角色编码","example":"admin"},"domain":{"type":"string","description":"域（Domain），用于多租户隔离","example":"example.com","nullable":true}},"required":["id","childSubject","parentRole"]},"RoleRelationCreateDto":{"type":"object","properties":{"childSubject":{"type":"string","description":"子主体（用户 ID 或子角色编码）","example":"user-123"},"parentRole":{"type":"string","description":"父角色编码","example":"admin"},"domain":{"type":"string","description":"域（Domain），用于多租户隔离","example":"example.com"}},"required":["childSubject","parentRole"]},"CasbinModelConfigDto":{"type":"object","properties":{"id":{"type":"number","description":"模型配置 ID","example":1},"content":{"type":"string","description":"模型配置内容（完整的 model.conf 文本）","example":"[request_definition]\nr = sub, obj, act\n..."},"version":{"type":"number","description":"版本号","example":1},"status":{"type":"string","description":"状态","enum":["draft","active","archived"],"example":"active"},"remark":{"type":"string","description":"备注说明","example":"修复权限匹配逻辑"},"createdBy":{"type":"string","description":"创建者用户 ID","example":"user-123"},"createdAt":{"format":"date-time","type":"string","description":"创建时间","example":"2024-01-01T00:00:00Z"},"approvedBy":{"type":"string","description":"审批者用户 ID","example":"admin-456"},"approvedAt":{"format":"date-time","type":"string","description":"审批时间","example":"2024-01-01T01:00:00Z"}},"required":["id","content","version","status","createdBy","createdAt"]},"ModelVersionDiffDto":{"type":"object","properties":{"sourceVersionId":{"type":"number","description":"源版本 ID","example":1},"targetVersionId":{"type":"number","description":"目标版本 ID","example":2},"diff":{"type":"string","description":"差异内容（统一差异格式）","example":"--- source\n+++ target\n@@ -1,3 +1,3 @@\n..."}},"required":["sourceVersionId","targetVersionId","diff"]},"ModelDraftCreateDto":{"type":"object","properties":{"content":{"type":"string","description":"模型配置内容（完整的 model.conf 文本）","example":"[request_definition]\nr = sub, obj, act\n..."},"remark":{"type":"string","description":"备注说明","example":"修复权限匹配逻辑"}},"required":["content"]},"ModelDraftUpdateDto":{"type":"object","properties":{"content":{"type":"string","description":"模型配置内容（完整的 model.conf 文本）","example":"[request_definition]\nr = sub, obj, act\n..."},"remark":{"type":"string","description":"备注说明","example":"修复权限匹配逻辑"}},"required":["content"]},"ApiRes":{"type":"object","properties":{"data":{"type":"object","description":"data"},"code":{"type":"number","default":200,"description":"code"},"message":{"type":"string","default":"success","description":"message"}},"required":["data","code","message"]}}}}