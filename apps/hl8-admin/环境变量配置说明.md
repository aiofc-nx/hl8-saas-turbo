# 环境变量配置说明

## 概述

本项目使用 Vite 作为构建工具，环境变量需要以 `VITE_` 前缀开头才能在客户端代码中访问。

## 配置步骤

### 1. 创建环境变量文件

在项目根目录（`apps/hl8-admin/`）创建 `.env.local` 文件（用于本地开发）或 `.env` 文件。

### 2. 配置环境变量

在 `.env.local` 文件中添加以下配置：

```env
# API 配置
# 后端 API 服务的基础地址
# 开发环境默认: http://localhost:8000
# 生产环境需要配置为实际的后端服务地址
VITE_API_BASE_URL=http://localhost:8000

# 应用环境
# 可选值: development, production
# 默认: development
VITE_APP_ENV=development
```

### 3. 环境变量说明

#### VITE_API_BASE_URL

- **说明**: 后端 API 服务的基础地址
- **默认值**: `http://localhost:8000`
- **开发环境**: 通常为 `http://localhost:8000`（与后端服务默认端口一致）
- **生产环境**: 需要配置为实际的后端服务地址，例如 `https://api.example.com`

#### VITE_APP_ENV

- **说明**: 应用运行环境
- **可选值**: `development` 或 `production`
- **默认值**: `development`
- **用途**: 用于区分开发和生产环境，可以用于条件判断

### 4. 环境变量优先级

Vite 的环境变量加载优先级（从高到低）：

1. `.env.local` - 本地环境变量（所有环境，会被 git 忽略）
2. `.env.[mode].local` - 特定模式的本地环境变量
3. `.env.[mode]` - 特定模式的环境变量（如 `.env.development`）
4. `.env` - 默认环境变量

### 5. 注意事项

1. **不要提交敏感信息**: `.env.local` 文件应该添加到 `.gitignore` 中，不要提交到版本控制系统
2. **重启开发服务器**: 修改环境变量后，需要重启 Vite 开发服务器才能生效
3. **类型安全**: 环境变量的类型定义在 `src/vite-env.d.ts` 中，确保类型安全

### 6. 示例配置

#### 开发环境配置（.env.local）

```env
VITE_API_BASE_URL=http://localhost:8000
VITE_APP_ENV=development
```

#### 生产环境配置（.env.production）

```env
VITE_API_BASE_URL=https://api.yourdomain.com
VITE_APP_ENV=production
```

## 验证配置

配置完成后，可以在代码中通过以下方式访问环境变量：

```typescript
// 获取 API 基础地址
const apiBaseUrl = import.meta.env.VITE_API_BASE_URL

// 获取应用环境
const appEnv = import.meta.env.VITE_APP_ENV
```

API 客户端会自动从 `VITE_API_BASE_URL` 读取配置，无需手动设置。
